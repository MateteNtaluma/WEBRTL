<!DOCTYPE html>
<html>
<head>
  <title>Meu Mapa</title>
  <style>
    #map {
      height: 400px;
      width: 100%;
    }
  </style>
</head>
<body>
  <div id="map"></div>

  <script>
    function initMap() {
      // Inicialize o mapa
      var map = new google.maps.Map(document.getElementById('map'), {
        center: {lat: -23.550520, lng: -46.633308},
        zoom: 12
      });

      // Adicione um marcador para um local específico
      var marker = new google.maps.Marker({
        position: {lat: -23.550520, lng: -46.633308},
        map: map,
        title: 'São Paulo'
      });

      // Função para calcular o tempo de permanência em um local
      var startTime = new Date(); // Hora de chegada
      var endTime = new Date(); // Hora de saída

      function calcularTempoPermanencia() {
        endTime = new Date();
        var timeDiff = endTime - startTime; // Diferença em milissegundos
        var seconds = Math.floor(timeDiff / 1000); // Diferença em segundos
        var minutes = Math.floor(seconds / 60); // Diferença em minutos

        console.log('Tempo de permanência: ' + minutes + ' minutos');
      }

      // Exemplo de envio de dados a cada 1 hora
      setInterval(function() {
        // Lógica para enviar os dados a cada 1 hora
        console.log('Dados enviados');
      }, 3600000); // 1 hora = 3.600.000 milissegundos

      // Exemplo de integração com dispositivo externo
      function enviarParaDispositivoExterno(dados) {
        // Lógica para enviar dados para o dispositivo externo
        console.log('Dados enviados para dispositivo externo');
      }

      var dados = {
        local: 'São Paulo',
        latitude: -23.550520,
        longitude: -46.633308
      };

      enviarParaDispositivoExterno(dados);
    }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>
</body>
</html>
